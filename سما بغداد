<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Ø³Ù…Ø§ Ø¨ØºØ¯Ø§Ø¯</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{
 font-family:Tahoma;
 direction:rtl;
 background:#f0f0f0;
 padding:10px
}
.box{
 background:#fff;
 padding:15px;
 border-radius:10px;
 max-width:400px;
 margin:auto
}
h2{text-align:center;color:#004}
input,textarea,button{
 width:100%;
 padding:10px;
 margin:6px 0;
 font-size:15px
}
button{
 background:#004;
 color:#fff;
 border:none;
 border-radius:5px
}
</style>
</head>

<body>

<div class="box" id="content">
<h2>Ø³Ù…Ø§ Ø¨ØºØ¯Ø§Ø¯</h2>

<input id="shop" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø­Ù„">
<input id="phone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ">
<textarea id="note" placeholder="Ù…Ù„Ø§Ø­Ø¸Ø§Øª"></textarea>

<button onclick="getLocation()">ğŸ“ Ø£Ø®Ø° Ø§Ù„Ù…ÙˆÙ‚Ø¹</button>
<p id="loc">Ø§Ù„Ù…ÙˆÙ‚Ø¹: ØºÙŠØ± Ù…Ø­Ø¯Ø¯</p>

<button onclick="savePDF()">ğŸ“„ Ø­ÙØ¸ PDF</button>
<p id="msg"></p>
</div>

<script>
let locationText="ØºÙŠØ± Ù…Ø­Ø¯Ø¯";

function getLocation(){
 if(!navigator.geolocation){
  loc.innerText="Ø§Ù„Ù…ÙˆÙ‚Ø¹ ØºÙŠØ± Ù…Ø¯Ø¹ÙˆÙ…";
  return;
 }
 navigator.geolocation.getCurrentPosition(
  p=>{
   locationText =
   p.coords.latitude + "," + p.coords.longitude;
   loc.innerText="Ø§Ù„Ù…ÙˆÙ‚Ø¹: "+locationText;
  },
  e=>{
   loc.innerText="Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„Ù…ÙˆÙ‚Ø¹";
  }
 );
}

function savePDF(){
 if(!shop.value || !phone.value){
  msg.innerText="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø­Ù„ ÙˆØ±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ";
  return;
 }

 let date=new Date().toLocaleString();

 let win=window.open("","","width=800,height=600");
 win.document.write(`
 <html><head><title>Ø²ÙŠØ§Ø±Ø©</title></head>
 <body style="font-family:Tahoma;direction:rtl">
 <h2>Ø³Ù…Ø§ Ø¨ØºØ¯Ø§Ø¯</h2>
 <p><b>Ø§Ø³Ù… Ø§Ù„Ù…Ø­Ù„:</b> ${shop.value}</p>
 <p><b>Ø§Ù„Ù‡Ø§ØªÙ:</b> ${phone.value}</p>
 <p><b>Ø§Ù„ØªØ§Ø±ÙŠØ®:</b> ${date}</p>
 <p><b>Ø§Ù„Ù…ÙˆÙ‚Ø¹:</b> ${locationText}</p>
 <p><b>Ù…Ù„Ø§Ø­Ø¸Ø§Øª:</b><br>${note.value}</p>
 </body></html>
 `);
 win.document.close();
 win.focus();
 win.print();
}
</script>

</body>
</html>
